{"ast":null,"code":"\"use strict\";\n\n/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateTransactionForSigning = exports.validateGas = exports.validateFeeMarketGas = exports.validateLegacyGas = exports.validateHardfork = exports.validateBaseChain = exports.validateChainInfo = exports.validateCustomChainInfo = void 0;\nexports.isBaseTransaction = isBaseTransaction;\nexports.isAccessListEntry = isAccessListEntry;\nexports.isAccessList = isAccessList;\nexports.isTransaction1559Unsigned = isTransaction1559Unsigned;\nexports.isTransaction2930Unsigned = isTransaction2930Unsigned;\nexports.isTransactionLegacyUnsigned = isTransactionLegacyUnsigned;\nexports.isTransactionWithSender = isTransactionWithSender;\nexports.validateTransactionWithSender = validateTransactionWithSender;\nexports.isTransactionCall = isTransactionCall;\nexports.validateTransactionCall = validateTransactionCall;\nconst web3_types_1 = require(\"web3-types\");\nconst web3_validator_1 = require(\"web3-validator\");\nconst web3_errors_1 = require(\"web3-errors\");\nconst format_transaction_js_1 = require(\"./utils/format_transaction.js\");\nfunction isBaseTransaction(value) {\n  if (!(0, web3_validator_1.isNullish)(value.to) && !(0, web3_validator_1.isAddress)(value.to)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.type) && !(0, web3_validator_1.isNullish)(value.type) && value.type.length !== 2) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.nonce)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.gas)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.value)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.input)) return false;\n  if (value.chainId && !(0, web3_validator_1.isHexStrict)(value.chainId)) return false;\n  return true;\n}\nfunction isAccessListEntry(value) {\n  if (!(0, web3_validator_1.isNullish)(value.address) && !(0, web3_validator_1.isAddress)(value.address)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.storageKeys) && !value.storageKeys.every(storageKey => (0, web3_validator_1.isHexString32Bytes)(storageKey))) return false;\n  return true;\n}\nfunction isAccessList(value) {\n  if (!Array.isArray(value) || !value.every(accessListEntry => isAccessListEntry(accessListEntry))) return false;\n  return true;\n}\nfunction isTransaction1559Unsigned(value) {\n  if (!isBaseTransaction(value)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.maxFeePerGas)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.maxPriorityFeePerGas)) return false;\n  if (!isAccessList(value.accessList)) return false;\n  return true;\n}\nfunction isTransaction2930Unsigned(value) {\n  if (!isBaseTransaction(value)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.gasPrice)) return false;\n  if (!isAccessList(value.accessList)) return false;\n  return true;\n}\nfunction isTransactionLegacyUnsigned(value) {\n  if (!isBaseTransaction(value)) return false;\n  if (!(0, web3_validator_1.isHexStrict)(value.gasPrice)) return false;\n  return true;\n}\nfunction isTransactionWithSender(value) {\n  if (!(0, web3_validator_1.isAddress)(value.from)) return false;\n  if (!isBaseTransaction(value)) return false;\n  if (!isTransaction1559Unsigned(value) && !isTransaction2930Unsigned(value) && !isTransactionLegacyUnsigned(value)) return false;\n  return true;\n}\nfunction validateTransactionWithSender(value) {\n  if (!isTransactionWithSender(value)) throw new web3_errors_1.InvalidTransactionWithSender(value);\n}\nfunction isTransactionCall(value) {\n  if (!(0, web3_validator_1.isNullish)(value.from) && !(0, web3_validator_1.isAddress)(value.from)) return false;\n  if (!(0, web3_validator_1.isAddress)(value.to)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.gas) && !(0, web3_validator_1.isHexStrict)(value.gas)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.gasPrice) && !(0, web3_validator_1.isHexStrict)(value.gasPrice)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.value) && !(0, web3_validator_1.isHexStrict)(value.value)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.data) && !(0, web3_validator_1.isHexStrict)(value.data)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.input) && !(0, web3_validator_1.isHexStrict)(value.input)) return false;\n  if (!(0, web3_validator_1.isNullish)(value.type)) return false;\n  if (isTransaction1559Unsigned(value)) return false;\n  if (isTransaction2930Unsigned(value)) return false;\n  return true;\n}\nfunction validateTransactionCall(value) {\n  if (!isTransactionCall(value)) throw new web3_errors_1.InvalidTransactionCall(value);\n}\nconst validateCustomChainInfo = transaction => {\n  if (!(0, web3_validator_1.isNullish)(transaction.common)) {\n    if ((0, web3_validator_1.isNullish)(transaction.common.customChain)) throw new web3_errors_1.MissingCustomChainError();\n    if ((0, web3_validator_1.isNullish)(transaction.common.customChain.chainId)) throw new web3_errors_1.MissingCustomChainIdError();\n    if (!(0, web3_validator_1.isNullish)(transaction.chainId) && transaction.chainId !== transaction.common.customChain.chainId) throw new web3_errors_1.ChainIdMismatchError({\n      txChainId: transaction.chainId,\n      customChainId: transaction.common.customChain.chainId\n    });\n  }\n};\nexports.validateCustomChainInfo = validateCustomChainInfo;\nconst validateChainInfo = transaction => {\n  if (!(0, web3_validator_1.isNullish)(transaction.common) && !(0, web3_validator_1.isNullish)(transaction.chain) && !(0, web3_validator_1.isNullish)(transaction.hardfork)) {\n    throw new web3_errors_1.CommonOrChainAndHardforkError();\n  }\n  if (!(0, web3_validator_1.isNullish)(transaction.chain) && (0, web3_validator_1.isNullish)(transaction.hardfork) || !(0, web3_validator_1.isNullish)(transaction.hardfork) && (0, web3_validator_1.isNullish)(transaction.chain)) throw new web3_errors_1.MissingChainOrHardforkError({\n    chain: transaction.chain,\n    hardfork: transaction.hardfork\n  });\n};\nexports.validateChainInfo = validateChainInfo;\nconst validateBaseChain = transaction => {\n  if (!(0, web3_validator_1.isNullish)(transaction.common)) if (!(0, web3_validator_1.isNullish)(transaction.common.baseChain)) if (!(0, web3_validator_1.isNullish)(transaction.chain) && transaction.chain !== transaction.common.baseChain) {\n    throw new web3_errors_1.ChainMismatchError({\n      txChain: transaction.chain,\n      baseChain: transaction.common.baseChain\n    });\n  }\n};\nexports.validateBaseChain = validateBaseChain;\nconst validateHardfork = transaction => {\n  if (!(0, web3_validator_1.isNullish)(transaction.common)) if (!(0, web3_validator_1.isNullish)(transaction.common.hardfork)) if (!(0, web3_validator_1.isNullish)(transaction.hardfork) && transaction.hardfork !== transaction.common.hardfork) {\n    throw new web3_errors_1.HardforkMismatchError({\n      txHardfork: transaction.hardfork,\n      commonHardfork: transaction.common.hardfork\n    });\n  }\n};\nexports.validateHardfork = validateHardfork;\nconst validateLegacyGas = transaction => {\n  if (\n  // This check is verifying gas and gasPrice aren't less than 0.\n  (0, web3_validator_1.isNullish)(transaction.gas) || !(0, web3_validator_1.isUInt)(transaction.gas) || (0, web3_validator_1.isNullish)(transaction.gasPrice) || !(0, web3_validator_1.isUInt)(transaction.gasPrice)) throw new web3_errors_1.InvalidGasOrGasPrice({\n    gas: transaction.gas,\n    gasPrice: transaction.gasPrice\n  });\n  if (!(0, web3_validator_1.isNullish)(transaction.maxFeePerGas) || !(0, web3_validator_1.isNullish)(transaction.maxPriorityFeePerGas)) throw new web3_errors_1.UnsupportedFeeMarketError({\n    maxFeePerGas: transaction.maxFeePerGas,\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas\n  });\n};\nexports.validateLegacyGas = validateLegacyGas;\nconst validateFeeMarketGas = transaction => {\n  // These errors come from 1.x, so they must be checked before\n  // InvalidMaxPriorityFeePerGasOrMaxFeePerGas to throw the same error\n  // for the same code executing in 1.x\n  if (!(0, web3_validator_1.isNullish)(transaction.gasPrice) && transaction.type === '0x2') throw new web3_errors_1.Eip1559GasPriceError(transaction.gasPrice);\n  if (transaction.type === '0x0' || transaction.type === '0x1') throw new web3_errors_1.UnsupportedFeeMarketError({\n    maxFeePerGas: transaction.maxFeePerGas,\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas\n  });\n  if ((0, web3_validator_1.isNullish)(transaction.maxFeePerGas) || !(0, web3_validator_1.isUInt)(transaction.maxFeePerGas) || (0, web3_validator_1.isNullish)(transaction.maxPriorityFeePerGas) || !(0, web3_validator_1.isUInt)(transaction.maxPriorityFeePerGas)) throw new web3_errors_1.InvalidMaxPriorityFeePerGasOrMaxFeePerGas({\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n    maxFeePerGas: transaction.maxFeePerGas\n  });\n};\nexports.validateFeeMarketGas = validateFeeMarketGas;\n/**\n * This method checks if all required gas properties are present for either\n * legacy gas (type 0x0 and 0x1) OR fee market transactions (0x2)\n */\nconst validateGas = transaction => {\n  const gasPresent = !(0, web3_validator_1.isNullish)(transaction.gas) || !(0, web3_validator_1.isNullish)(transaction.gasLimit);\n  const legacyGasPresent = gasPresent && !(0, web3_validator_1.isNullish)(transaction.gasPrice);\n  const feeMarketGasPresent = gasPresent && !(0, web3_validator_1.isNullish)(transaction.maxPriorityFeePerGas) && !(0, web3_validator_1.isNullish)(transaction.maxFeePerGas);\n  if (!legacyGasPresent && !feeMarketGasPresent) throw new web3_errors_1.MissingGasError({\n    gas: transaction.gas,\n    gasPrice: transaction.gasPrice,\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n    maxFeePerGas: transaction.maxFeePerGas\n  });\n  if (legacyGasPresent && feeMarketGasPresent) throw new web3_errors_1.TransactionGasMismatchError({\n    gas: transaction.gas,\n    gasPrice: transaction.gasPrice,\n    maxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n    maxFeePerGas: transaction.maxFeePerGas\n  });\n  (legacyGasPresent ? exports.validateLegacyGas : exports.validateFeeMarketGas)(transaction);\n  (!(0, web3_validator_1.isNullish)(transaction.type) && transaction.type > '0x1' ? exports.validateFeeMarketGas : exports.validateLegacyGas)(transaction);\n};\nexports.validateGas = validateGas;\nconst validateTransactionForSigning = (transaction, overrideMethod, options = {\n  transactionSchema: undefined\n}) => {\n  if (!(0, web3_validator_1.isNullish)(overrideMethod)) {\n    overrideMethod(transaction);\n    return;\n  }\n  if (typeof transaction !== 'object' || (0, web3_validator_1.isNullish)(transaction)) throw new web3_errors_1.InvalidTransactionObjectError(transaction);\n  (0, exports.validateCustomChainInfo)(transaction);\n  (0, exports.validateChainInfo)(transaction);\n  (0, exports.validateBaseChain)(transaction);\n  (0, exports.validateHardfork)(transaction);\n  const formattedTransaction = (0, format_transaction_js_1.formatTransaction)(transaction, web3_types_1.ETH_DATA_FORMAT, {\n    transactionSchema: options.transactionSchema\n  });\n  (0, exports.validateGas)(formattedTransaction);\n  if ((0, web3_validator_1.isNullish)(formattedTransaction.nonce) || (0, web3_validator_1.isNullish)(formattedTransaction.chainId) || formattedTransaction.nonce.startsWith('-') || formattedTransaction.chainId.startsWith('-')) throw new web3_errors_1.InvalidNonceOrChainIdError({\n    nonce: transaction.nonce,\n    chainId: transaction.chainId\n  });\n};\nexports.validateTransactionForSigning = validateTransactionForSigning;","map":{"version":3,"names":["exports","isBaseTransaction","isAccessListEntry","isAccessList","isTransaction1559Unsigned","isTransaction2930Unsigned","isTransactionLegacyUnsigned","isTransactionWithSender","validateTransactionWithSender","isTransactionCall","validateTransactionCall","web3_types_1","require","web3_validator_1","web3_errors_1","format_transaction_js_1","value","isNullish","to","isAddress","isHexStrict","type","length","nonce","gas","input","chainId","address","storageKeys","every","storageKey","isHexString32Bytes","Array","isArray","accessListEntry","maxFeePerGas","maxPriorityFeePerGas","accessList","gasPrice","from","InvalidTransactionWithSender","data","InvalidTransactionCall","validateCustomChainInfo","transaction","common","customChain","MissingCustomChainError","MissingCustomChainIdError","ChainIdMismatchError","txChainId","customChainId","validateChainInfo","chain","hardfork","CommonOrChainAndHardforkError","MissingChainOrHardforkError","validateBaseChain","baseChain","ChainMismatchError","txChain","validateHardfork","HardforkMismatchError","txHardfork","commonHardfork","validateLegacyGas","isUInt","InvalidGasOrGasPrice","UnsupportedFeeMarketError","validateFeeMarketGas","Eip1559GasPriceError","InvalidMaxPriorityFeePerGasOrMaxFeePerGas","validateGas","gasPresent","gasLimit","legacyGasPresent","feeMarketGasPresent","MissingGasError","TransactionGasMismatchError","validateTransactionForSigning","overrideMethod","options","transactionSchema","undefined","InvalidTransactionObjectError","formattedTransaction","formatTransaction","ETH_DATA_FORMAT","startsWith","InvalidNonceOrChainIdError"],"sources":["/home/ubuntu/node_modules/web3-eth/src/validation.ts"],"sourcesContent":["﻿/*\nThis file is part of web3.js.\n\nweb3.js is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nweb3.js is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public License\nalong with web3.js.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport {\n\tAccessList,\n\tAccessListEntry,\n\tBaseTransactionAPI,\n\tTransaction1559UnsignedAPI,\n\tTransaction2930UnsignedAPI,\n\tTransactionCall,\n\tTransactionLegacyUnsignedAPI,\n\tTransaction,\n\tTransactionWithSenderAPI,\n\tETH_DATA_FORMAT,\n} from 'web3-types';\nimport { isAddress, isHexStrict, isHexString32Bytes, isNullish, isUInt } from 'web3-validator';\nimport {\n\tChainMismatchError,\n\tHardforkMismatchError,\n\tChainIdMismatchError,\n\tCommonOrChainAndHardforkError,\n\tEip1559GasPriceError,\n\tInvalidGasOrGasPrice,\n\tInvalidMaxPriorityFeePerGasOrMaxFeePerGas,\n\tInvalidNonceOrChainIdError,\n\tInvalidTransactionCall,\n\tInvalidTransactionObjectError,\n\tInvalidTransactionWithSender,\n\tMissingChainOrHardforkError,\n\tMissingCustomChainError,\n\tMissingCustomChainIdError,\n\tMissingGasError,\n\tTransactionGasMismatchError,\n\tUnsupportedFeeMarketError,\n} from 'web3-errors';\nimport { formatTransaction } from './utils/format_transaction.js';\nimport { CustomTransactionSchema, InternalTransaction } from './types.js';\n\nexport function isBaseTransaction(value: BaseTransactionAPI): boolean {\n\tif (!isNullish(value.to) && !isAddress(value.to)) return false;\n\tif (!isHexStrict(value.type) && !isNullish(value.type) && value.type.length !== 2) return false;\n\tif (!isHexStrict(value.nonce)) return false;\n\tif (!isHexStrict(value.gas)) return false;\n\tif (!isHexStrict(value.value)) return false;\n\tif (!isHexStrict(value.input)) return false;\n\tif (value.chainId && !isHexStrict(value.chainId)) return false;\n\n\treturn true;\n}\n\nexport function isAccessListEntry(value: AccessListEntry): boolean {\n\tif (!isNullish(value.address) && !isAddress(value.address)) return false;\n\tif (\n\t\t!isNullish(value.storageKeys) &&\n\t\t!value.storageKeys.every(storageKey => isHexString32Bytes(storageKey))\n\t)\n\t\treturn false;\n\n\treturn true;\n}\n\nexport function isAccessList(value: AccessList): boolean {\n\tif (\n\t\t!Array.isArray(value) ||\n\t\t!value.every(accessListEntry => isAccessListEntry(accessListEntry))\n\t)\n\t\treturn false;\n\n\treturn true;\n}\n\nexport function isTransaction1559Unsigned(value: Transaction1559UnsignedAPI): boolean {\n\tif (!isBaseTransaction(value)) return false;\n\tif (!isHexStrict(value.maxFeePerGas)) return false;\n\tif (!isHexStrict(value.maxPriorityFeePerGas)) return false;\n\tif (!isAccessList(value.accessList)) return false;\n\n\treturn true;\n}\n\nexport function isTransaction2930Unsigned(value: Transaction2930UnsignedAPI): boolean {\n\tif (!isBaseTransaction(value)) return false;\n\tif (!isHexStrict(value.gasPrice)) return false;\n\tif (!isAccessList(value.accessList)) return false;\n\n\treturn true;\n}\n\nexport function isTransactionLegacyUnsigned(value: TransactionLegacyUnsignedAPI): boolean {\n\tif (!isBaseTransaction(value)) return false;\n\tif (!isHexStrict(value.gasPrice)) return false;\n\n\treturn true;\n}\n\nexport function isTransactionWithSender(value: TransactionWithSenderAPI): boolean {\n\tif (!isAddress(value.from)) return false;\n\tif (!isBaseTransaction(value)) return false;\n\tif (\n\t\t!isTransaction1559Unsigned(value as Transaction1559UnsignedAPI) &&\n\t\t!isTransaction2930Unsigned(value as Transaction2930UnsignedAPI) &&\n\t\t!isTransactionLegacyUnsigned(value as TransactionLegacyUnsignedAPI)\n\t)\n\t\treturn false;\n\n\treturn true;\n}\n\nexport function validateTransactionWithSender(value: TransactionWithSenderAPI) {\n\tif (!isTransactionWithSender(value)) throw new InvalidTransactionWithSender(value);\n}\n\nexport function isTransactionCall(value: TransactionCall): boolean {\n\tif (!isNullish(value.from) && !isAddress(value.from)) return false;\n\tif (!isAddress(value.to)) return false;\n\tif (!isNullish(value.gas) && !isHexStrict(value.gas)) return false;\n\tif (!isNullish(value.gasPrice) && !isHexStrict(value.gasPrice)) return false;\n\tif (!isNullish(value.value) && !isHexStrict(value.value)) return false;\n\tif (!isNullish(value.data) && !isHexStrict(value.data)) return false;\n\tif (!isNullish(value.input) && !isHexStrict(value.input)) return false;\n\tif (!isNullish(value.type)) return false;\n\tif (isTransaction1559Unsigned(value as Transaction1559UnsignedAPI)) return false;\n\tif (isTransaction2930Unsigned(value as Transaction2930UnsignedAPI)) return false;\n\n\treturn true;\n}\n\nexport function validateTransactionCall(value: TransactionCall) {\n\tif (!isTransactionCall(value)) throw new InvalidTransactionCall(value);\n}\n\nexport const validateCustomChainInfo = (transaction: InternalTransaction) => {\n\tif (!isNullish(transaction.common)) {\n\t\tif (isNullish(transaction.common.customChain)) throw new MissingCustomChainError();\n\t\tif (isNullish(transaction.common.customChain.chainId))\n\t\t\tthrow new MissingCustomChainIdError();\n\t\tif (\n\t\t\t!isNullish(transaction.chainId) &&\n\t\t\ttransaction.chainId !== transaction.common.customChain.chainId\n\t\t)\n\t\t\tthrow new ChainIdMismatchError({\n\t\t\t\ttxChainId: transaction.chainId,\n\t\t\t\tcustomChainId: transaction.common.customChain.chainId,\n\t\t\t});\n\t}\n};\nexport const validateChainInfo = (transaction: InternalTransaction) => {\n\tif (\n\t\t!isNullish(transaction.common) &&\n\t\t!isNullish(transaction.chain) &&\n\t\t!isNullish(transaction.hardfork)\n\t) {\n\t\tthrow new CommonOrChainAndHardforkError();\n\t}\n\tif (\n\t\t(!isNullish(transaction.chain) && isNullish(transaction.hardfork)) ||\n\t\t(!isNullish(transaction.hardfork) && isNullish(transaction.chain))\n\t)\n\t\tthrow new MissingChainOrHardforkError({\n\t\t\tchain: transaction.chain,\n\t\t\thardfork: transaction.hardfork,\n\t\t});\n};\nexport const validateBaseChain = (transaction: InternalTransaction) => {\n\tif (!isNullish(transaction.common))\n\t\tif (!isNullish(transaction.common.baseChain))\n\t\t\tif (\n\t\t\t\t!isNullish(transaction.chain) &&\n\t\t\t\ttransaction.chain !== transaction.common.baseChain\n\t\t\t) {\n\t\t\t\tthrow new ChainMismatchError({\n\t\t\t\t\ttxChain: transaction.chain,\n\t\t\t\t\tbaseChain: transaction.common.baseChain,\n\t\t\t\t});\n\t\t\t}\n};\nexport const validateHardfork = (transaction: InternalTransaction) => {\n\tif (!isNullish(transaction.common))\n\t\tif (!isNullish(transaction.common.hardfork))\n\t\t\tif (\n\t\t\t\t!isNullish(transaction.hardfork) &&\n\t\t\t\ttransaction.hardfork !== transaction.common.hardfork\n\t\t\t) {\n\t\t\t\tthrow new HardforkMismatchError({\n\t\t\t\t\ttxHardfork: transaction.hardfork,\n\t\t\t\t\tcommonHardfork: transaction.common.hardfork,\n\t\t\t\t});\n\t\t\t}\n};\n\nexport const validateLegacyGas = (transaction: InternalTransaction) => {\n\tif (\n\t\t// This check is verifying gas and gasPrice aren't less than 0.\n\t\tisNullish(transaction.gas) ||\n\t\t!isUInt(transaction.gas) ||\n\t\tisNullish(transaction.gasPrice) ||\n\t\t!isUInt(transaction.gasPrice)\n\t)\n\t\tthrow new InvalidGasOrGasPrice({\n\t\t\tgas: transaction.gas,\n\t\t\tgasPrice: transaction.gasPrice,\n\t\t});\n\tif (!isNullish(transaction.maxFeePerGas) || !isNullish(transaction.maxPriorityFeePerGas))\n\t\tthrow new UnsupportedFeeMarketError({\n\t\t\tmaxFeePerGas: transaction.maxFeePerGas,\n\t\t\tmaxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n\t\t});\n};\n\nexport const validateFeeMarketGas = (transaction: InternalTransaction) => {\n\t// These errors come from 1.x, so they must be checked before\n\t// InvalidMaxPriorityFeePerGasOrMaxFeePerGas to throw the same error\n\t// for the same code executing in 1.x\n\tif (!isNullish(transaction.gasPrice) && transaction.type === '0x2')\n\t\tthrow new Eip1559GasPriceError(transaction.gasPrice);\n\tif (transaction.type === '0x0' || transaction.type === '0x1')\n\t\tthrow new UnsupportedFeeMarketError({\n\t\t\tmaxFeePerGas: transaction.maxFeePerGas,\n\t\t\tmaxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n\t\t});\n\n\tif (\n\t\tisNullish(transaction.maxFeePerGas) ||\n\t\t!isUInt(transaction.maxFeePerGas) ||\n\t\tisNullish(transaction.maxPriorityFeePerGas) ||\n\t\t!isUInt(transaction.maxPriorityFeePerGas)\n\t)\n\t\tthrow new InvalidMaxPriorityFeePerGasOrMaxFeePerGas({\n\t\t\tmaxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n\t\t\tmaxFeePerGas: transaction.maxFeePerGas,\n\t\t});\n};\n\n/**\n * This method checks if all required gas properties are present for either\n * legacy gas (type 0x0 and 0x1) OR fee market transactions (0x2)\n */\nexport const validateGas = (transaction: InternalTransaction) => {\n\tconst gasPresent = !isNullish(transaction.gas) || !isNullish(transaction.gasLimit);\n\tconst legacyGasPresent = gasPresent && !isNullish(transaction.gasPrice);\n\tconst feeMarketGasPresent =\n\t\tgasPresent &&\n\t\t!isNullish(transaction.maxPriorityFeePerGas) &&\n\t\t!isNullish(transaction.maxFeePerGas);\n\n\tif (!legacyGasPresent && !feeMarketGasPresent)\n\t\tthrow new MissingGasError({\n\t\t\tgas: transaction.gas,\n\t\t\tgasPrice: transaction.gasPrice,\n\t\t\tmaxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n\t\t\tmaxFeePerGas: transaction.maxFeePerGas,\n\t\t});\n\n\tif (legacyGasPresent && feeMarketGasPresent)\n\t\tthrow new TransactionGasMismatchError({\n\t\t\tgas: transaction.gas,\n\t\t\tgasPrice: transaction.gasPrice,\n\t\t\tmaxPriorityFeePerGas: transaction.maxPriorityFeePerGas,\n\t\t\tmaxFeePerGas: transaction.maxFeePerGas,\n\t\t});\n\n\t(legacyGasPresent ? validateLegacyGas : validateFeeMarketGas)(transaction);\n\t(!isNullish(transaction.type) && transaction.type > '0x1'\n\t\t? validateFeeMarketGas\n\t\t: validateLegacyGas)(transaction);\n};\n\nexport const validateTransactionForSigning = (\n\ttransaction: InternalTransaction,\n\toverrideMethod?: (transaction: InternalTransaction) => void,\n\toptions: {\n\t\ttransactionSchema?: CustomTransactionSchema;\n\t} = { transactionSchema: undefined },\n) => {\n\tif (!isNullish(overrideMethod)) {\n\t\toverrideMethod(transaction);\n\t\treturn;\n\t}\n\n\tif (typeof transaction !== 'object' || isNullish(transaction))\n\t\tthrow new InvalidTransactionObjectError(transaction);\n\n\tvalidateCustomChainInfo(transaction);\n\tvalidateChainInfo(transaction);\n\tvalidateBaseChain(transaction);\n\tvalidateHardfork(transaction);\n\n\tconst formattedTransaction = formatTransaction(transaction as Transaction, ETH_DATA_FORMAT, {\n\t\ttransactionSchema: options.transactionSchema,\n\t});\n\tvalidateGas(formattedTransaction);\n\n\tif (\n\t\tisNullish(formattedTransaction.nonce) ||\n\t\tisNullish(formattedTransaction.chainId) ||\n\t\tformattedTransaction.nonce.startsWith('-') ||\n\t\tformattedTransaction.chainId.startsWith('-')\n\t)\n\t\tthrow new InvalidNonceOrChainIdError({\n\t\t\tnonce: transaction.nonce,\n\t\t\tchainId: transaction.chainId,\n\t\t});\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}